# 重点专项TODOlist

## 紧急任务

- 碰撞相关
  - [ ] 给模型抽取碰撞表面，目前版本需要保证表面的顶点是计算模型的顶点的子集。
  - [ ] 修复z-plane碰撞检测的bug。
  - [ ] 应用z-plane碰撞检测于简单的模拟中。
  - [ ] 碰撞组装整体刚度矩阵需要修改为Row-Major。
  - [ ] 约束矩阵$J$考虑EE碰撞约束。
  - [ ] 唐老师碰撞检测版本根据返回的VF和EE信息组装J和c。
  - [ ] vtxType和meshType类型改为Eigen::Vector
    - [ ] 与唐老师的接口修改。
    - [ ] response的x类型修改。

- 模拟相关
  - [ ] 实现简单的单个物体带碰撞检测及响应的pipeline，基于弹簧质点模式。
  - [ ] 将不同离散的模拟放在一起进行计算。

## 优化任务

- [ ] 碰撞响应的时候，将不需要进行碰撞的模型抽离，仅处理发生碰撞的模型的重计算

  - [ ] 重新组装整体的刚度矩阵$A$以及右手项$b$
  - [ ] 重新组装约束矩阵$J$以及右手项$c$
  - 一个简单的思路是在检测的时候，通过置flag的方式进行。

- [ ] 组装约束矩阵$J$的接口修改为更可用，考虑一条条增加的方式。

- [ ] 组装约束矩阵$J$的VF的优化。

- [ ] 多个模型的碰撞响应得到的$x$返回方式修改

  - [ ] 类型修改

- [ ] vtxType和meshType的类型的修改。

  